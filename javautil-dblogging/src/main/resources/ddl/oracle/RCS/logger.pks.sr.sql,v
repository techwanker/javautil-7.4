head	1.3;
access;
symbols;
locks
	jjs:1.3; strict;
comment	@# @;


1.3
date	2020.05.12.15.51.51;	author jjs;	state Exp;
branches;
next	1.2;

1.2
date	2020.05.11.23.01.10;	author jjs;	state Exp;
branches;
next	1.1;

1.1
date	2020.04.26.05.12.02;	author jjs;	state Exp;
branches;
next	;


desc
@@


1.3
log
@*** empty log message ***
@
text
@create or replace PACKAGE logger AS
    G_SEVERE       CONSTANT PLS_INTEGER := 1 ;
    G_WARNING      CONSTANT PLS_INTEGER := 2 ;
    G_INFO         CONSTANT PLS_INTEGER := 4 ;
    G_SNAP         CONSTANT PLS_INTEGER := 5 ;
    G_ENTERING     CONSTANT PLS_INTEGER := 6 ;
    G_EXITING      CONSTANT PLS_INTEGER := 6 ;
    G_FINE         CONSTANT PLS_INTEGER := 7 ;
    G_FINER        CONSTANT PLS_INTEGER := 8 ;
    G_FINEST       CONSTANT PLS_INTEGER := 9 ;
    G_NONE         CONSTANT PLS_INTEGER := 10 ;

    function format_time(p_timestamp in timestamp) 
    return varchar;

    procedure set_filter_level (p_level in pls_integer);

    function get_new_job_log_id 
    return number;

    function begin_job (
        p_process_name in varchar,
        p_logger_set   in varchar default null,
        p_classname    in varchar default null,
        p_module_name  in varchar default null,
        p_status_msg   in varchar default null,
        p_thread_name  in varchar default null,
        p_trace_level  in pls_integer default G_INFO)
    return varchar;

    procedure end_job;

    procedure abort_job(p_stacktrace in varchar default null);

    procedure set_action (p_action IN        VARCHAR2) ;

    procedure set_module (
        p_module_name IN        VARCHAR,
        p_action_name in   varchar
    );

    function get_my_tracefile 
    return clob ;

    function get_directory_path 
    return varchar;

    function get_tracefile(p_file_name in varchar) 
    return clob;

    function get_my_tracefile_name 
    return varchar;

    function basename (p_full_path in varchar2,
                       p_suffix    in varchar2 default null,
                       p_separator in char default '/') 
    return varchar2;

    procedure prepare_connection;

    procedure trace_step(p_step_name in varchar, p_job_step_id in number);

    function set_tracefile_identifier(p_job_nbr in number) 
    return varchar;

END logger ;
@


1.2
log
@*** empty log message ***
@
text
@d1 1
a1 2

CREATE OR REPLACE PACKAGE logger AS
d13 3
d18 12
a29 16
    function begin_job(
        p_module_name in varchar, 
        p_job_log_id  in number default null,
        p_action_name in varchar default 'begin',
        p_trace_level in integer default G_INFO)
    return varchar; -- trace_file_name

    FUNCTION begin_java_job ( 
        p_job_log_id          in number,
    	p_process_name in varchar2,
        p_classname    in varchar2,
        p_module_name  in varchar2,
        p_status_msg   in varchar2,
        p_thread_name  in varchar2,
        p_trace_level  in pls_integer default G_INFO
    ) return varchar;
d32 1
d34 4
a37 4
 
    PROCEDURE set_action (p_action IN        VARCHAR2) ;
   
    PROCEDURE set_module (
d42 2
a43 3
    function get_my_tracefile return clob ;
    
    function get_directory_path return varchar;
d45 2
a46 1
    function get_tracefile(p_file_name in varchar) return clob;
d48 5
a52 1
    function get_my_tracefile_name return varchar;
d56 2
a57 1
                       p_separator in char default '/') return varchar2;
d63 2
a64 1
    function set_tracefile_identifier(p_job_nbr in number) return varchar;
a66 5
/
--#<
show errors
--#>

@


1.1
log
@Initial revision
@
text
@d34 1
a34 1
    procedure abort_job(p_stacktrace in varchar);
a59 1

@
